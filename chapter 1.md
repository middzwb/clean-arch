# 什么设计和架构
---

这些年来有很多关于设计和架构的迷惑。什么是设计？什么是架构？两者区别是什么？

本书的目标之一就是打破所有的迷惑，一劳永逸（？）的定义什么是设计和架构。首先，我将断言这两者之间没有任何不同，一点也不

“架构”这个词经常被用在脱离底层细节的高层上下文中。尽管“设计”看起来更像是在表达底层的结构和决策（？），但当你考虑一个真正的设计师（架构师？）在做什么的时候，这个用法是荒谬的。

考虑设计我家的设计师，我家有架构吗，当然有。是什么呢？是房子的形状，外观，高度，以及空间和屋子的布局。但当我看设计师设计的图稿时，我看到了很多的底层细节，我看到了每一个出口，开关和灯放在那里，我看大了每个开关控制哪个灯，我看到了炉子在哪里放置，热水器和水泵的大小和位置。我看到了墙，屋顶和地基构建的细节。

简断截说，我看到了支持者高级决策的所有小细节。我也看到了这些底层细节和高层决策都是我房子设计的一部分。

软件设计也是如此,底层细节和高层结构都是设计的一部分。他们组成了一个连续的定义了系统形状的结构。两者缺一不可；实际上，两者之间没有明确的分界线。这里有一些简单的从最高层到最底层的连续的决策。

## 目标？

这些决策的目标是？好的软件设计的目标是？目标不外乎（is nothing less than）我乌托邦的描述
    
    软件架构的目标就用最小的人力资源去构建和维护所需要的系统

好的设计的评判不过是满足客户的需要（meet the needs）所需的工作量的评判。如果工作量很低，并且在整个系统的生命周期内都保持很低，则是好的设计。如果每个新的发布版本工作量都会增长，则是差的设计。就是这么简单。

## 案例分析 （case study）

举个例子：考虑下面的案例，它包含了来自一家希望匿名的公司的真实数据。

首先，让我们看工程师的增长，我很确信你会赞同这个趋势是鼓舞人心的。下图的增长肯定是重大成功的表示。

现在让我们看相同时期公司的生产率。简单的用代码行数去表示。

很明显这里有一些事情不对。尽管每个发布版本都有持续增长的开发来作支持，但是代码的增长看起来逼近了渐近线。

这里有一张更恐怖的图表，1.3展示了随着时间的变化，每行代码的成本。

这个趋势养不起，不管多赚钱的公司都会遇到这个时刻：这些曲线将会灾难性的消耗从商业模式中获得的利益，把公司逼入绝境，如果不彻底崩溃的话。

是什么造成了生产率的异常变化？为什么发布版本8相比发布版本1，生产代码要昂贵40倍？

## 混乱的标志

你正在看的是混乱的标志。当系统被匆忙的拼凑在一起,当程序员的绝对数量是输出的唯一驱动时，当在代码整洁度或结构设计上只有一点或没有想法时，你就会沿着这条曲线到达它危险的结局

1.4展示着这条曲线对于开发者看起来像什么。开始的时候接近100%的生产率，但是每个发布版本生产率都在下降，在第四个发布版本，很明显生产率已经逼近0了。

