# 双值记
---

每个软件系统都为会既得利益者提供两种不同的价值：行为和结构。软件开发者有责任确保这两者的价值维持很高。不幸的是，他们通常只注意其中一种。更不幸的是，他们经常关注两者中较低的那个，使软件系统最终变得毫无价值

## 行为

软件的第一个价值是它的行为。对于老板来说，雇佣程序员是为了让机器赚钱。我们通过帮助老板写功能规格或需求文档来做这件事。然后我们通过写代码来让老板的机器满足他们的需求。

当机器违反了他们的需求，程序员就要把他们的调试器拿出来去解决问题。

许多程序员相信那就是他们工作的全部。他们相信他们的工作就是让机器实现需求并且解决任何bug。他们大错特错。

## 架构

软件的第二个价值和“software”这个“soft”和“ware”的复合词有关。单词“ware”意味着产品（“product”）；单词“soft”，那就是第二个价值所在。

软件是为了“soft”而发明的。它被确定为一种简单的改变机器行为的方式。如果我们想困难的改变机器行为，我们可能要叫它“hard”件

为了实现这个目的，软件一定要软，也就是一定要容易改变。当老板改变了他们关于特性的想法时，改变应该很简单并且很容易去做。改变的困难程度只应该和变化的范围成比例，而不应该和变化的形状成比例。

范围和形状的不同经常导致软件开发的成本增长。就是这个原因导致成本和需求变化的大小不成比例的增长。同样的，第一年的开发要远远比第二年便宜。并且第二年远远比第三年便宜。

从老板的角度来看，他们只提供了大致相同范围的变更流。从开发者的角度来看，老板提供的是一堆拼图碎片，他们需要随着不断增长的复杂度把它拼成完成的拼图。每一个新需求相比上一个都更难拼好，因为系统的形状和需求的形状并不匹配。

我以一种非常规的方式使用“shape”这个词，但我认为意义是合适的。软件开发者经常感觉他们在暴力的把方形塞子塞进圆形的洞里。

当然，问题在于系统的架构。架构越喜欢一种形状而不是另一种，新特性往结构里塞就会越艰难。因此架构应该是形状不可知而是可用的。

## 更伟大的价值

功能还是架构？这两者哪个的价值更重要？是软件系统工作更重要，还是易于改变更重要？

如果你问企业管理者，他们经常会回答软件系统工作更重要。反过来，开发者也接受这种看法。但它是错误的。我可以用一些简单的考察极端的工具证明它
  
    如果你给我一个工作很完美但不能改变的项目，当有需求改变时它将不能工作，我也不能让它工作，因此项目将会变得无用。
    如果你给我一个不能工作但易于改变的项目，我可以让它工作，并且当需求变更时保持工作。因此项目将会保持有用。
    
你可能觉得这个论点不足以令人信服。毕竟，没有项目不能改变。但是，有一些系统几乎不能改变，因为改变的成本超过收益，许多系统在它们的一些特性或配置中达到了这个点。

如果你问企业管理员他们是否会进行变更，他们当然会说会。但他们的答案可能会暗示你当前的功能远远比后面的灵活性重要。相反，如果企业负责人让你去变更，然后你估计出来的成本高到负担不起，企业负责人可能会迁怒于你，觉得你把系统搞得不能变更。

## 艾森豪威尔矩阵

考虑图2.1的总统艾森豪威尔关于重要vs紧急的矩阵，在这个矩阵里，艾森豪威尔说：
  
    我有两类问题，紧急的和重要的。紧急不是重要，重要也绝不是紧急。
    
这句老话很有道理。紧急的事情很少是特别重要的。并且重要的事情几乎不紧急。

软件的第一个价值:行为（表现， 功能），很紧急但并不总是特别重要。

第二个价值：架构，很重要但从不会特比紧急。

当然，有一些事既紧急又重要，有一些事既不紧急又不重要。最终，我们可以排列这四项的优先级。

1. 紧急和重要
2. 不紧急但重要
3. 紧急但不重要
4. 不紧急且不重要

记住代码的架构--重要的东西--在这个列表的前两项。然而代码的行为占据了第一和第三的位置。

企业管理者和开发者经常犯的错误就是把第三项的内容提高到第一项。换句话说，他们没有区分紧急但不重要的特性和紧急且重要的特性。这个失败导致他们无视了重要的系统架构而去支持系统的重要的特性。

软件开发者的困惑是企业管理者不能看清架构的重要性。那是软件卡发着应该做的事。因此，软件开发团队有责任去断定架构的重要性在于特性的紧急性之上。

## 为了架构而奋斗

履行这项责任意味着卷入一场争斗--“抗争”（我的一生，是抗争的一生）。坦率的讲，那总是事情完成的方式（？）。开发团队为了他们认为的对公司有利的去抗争，管理团队是这样，市场，销售和操作团队也是这样。“一直在抗争”

效率的软件开发团队直面抗争。他们会厚着脸皮和其他老板争吵，记着，作为软件开发者，你也是老板，在软件中，你有需要捍卫的利益。那是属于你的，是你的义务。也是你被雇佣的一个重要原因。

如果你是软件架构师，这个挑战就更加重要。根据他们工作的描述。软件架构师相比系统的特性和功能，更关注与系统的结构。架构师创造了一个让特性和功能更易于开发，修改和拓展的架构。

一定要记住：如果架构放在最后来进行，系统的开发将会变得很昂贵，最终系统的一部分或整个系统变得几乎不可能改变。如果它发生了，说明软件开发团队没有为他们所认知的必须而足够努力斗争。
